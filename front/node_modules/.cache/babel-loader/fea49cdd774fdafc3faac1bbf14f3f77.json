{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Usuario\\\\Documents\\\\EducacionIT\\\\Digitalers\\\\Java Bootcamp\\\\digitalers2022-proyecto-final\\\\front\\\\src\\\\components\\\\Login.jsx\";\nimport React from \"react\";\nimport { Component } from \"react\";\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n    this.setValues = event => {\n      this.setState({\n        [event.target.id]: event.target.value\n      });\n    };\n    this.cleanValues = () => {\n      this.setState({\n        email: \"\",\n        key: \"\"\n      });\n    };\n    this.signIn = event => {\n      event.preventDefault();\n      const url = \"http://localhost:8080/login/signIn\";\n      const user = {\n        email: this.state.email,\n        key: this.state.key\n      };\n      const header = {\n        method: \"POST\",\n        body: JSON.stringify(user),\n        headers: {\n          \"credentials\": localStorage.credential,\n          \"Content-Type\": \"application/json\"\n        }\n      };\n      fetch(url, header).then(response => {\n        if (!response.ok) throw Error(response.status);\n        return response.json();\n      }).then(json => {\n        console.log(json);\n        localStorage.uuid = json.uuid;\n        localStorage.credential = json.credential;\n        window.location.href = \"/publications/findAll\";\n      }).catch(error => {\n        console.error(error);\n        localStorage.clear();\n        alert(\"Credenciales Incorrectas\");\n      });\n      this.cleanValues();\n    };\n    this.state = {\n      email: \"\",\n      key: \"\"\n    };\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.signIn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      id: \"email\",\n      name: \"email\",\n      placeholder: \"correo electronico\",\n      required: true,\n      value: this.state.email,\n      onChange: this.setValues,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      id: \"key\",\n      name: \"key\",\n      placeholder: \"clave\",\n      required: true,\n      value: this.state.key,\n      onChange: this.setValues,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }\n    }, \"Ingresar\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"reset\",\n      onClick: this.cleanValues,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 7\n      }\n    }, \"Limpiar\"))));\n  }\n}","map":{"version":3,"names":["React","Component","Login","constructor","props","setValues","event","setState","target","id","value","cleanValues","email","key","signIn","preventDefault","url","user","state","header","method","body","JSON","stringify","headers","localStorage","credential","fetch","then","response","ok","Error","status","json","console","log","uuid","window","location","href","catch","error","clear","alert","render"],"sources":["C:/Users/Usuario/Documents/EducacionIT/Digitalers/Java Bootcamp/digitalers2022-proyecto-final/front/src/components/Login.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { Component } from \"react\";\r\n\r\n\r\nexport default class Login extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\temail: \"\",\r\n\t\t\tkey: \"\"\r\n\t\t}\r\n\t}\r\n\r\n\tsetValues = (event) => {\r\n\t\tthis.setState({\r\n\t\t\t[event.target.id]: event.target.value\r\n\t\t});\r\n\t}\r\n\r\n\tcleanValues = () => {\r\n\t\tthis.setState(\r\n\t\t\t{\r\n\t\t\t\temail: \"\",\r\n\t\t\t\tkey: \"\"\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tsignIn = (event) => {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tconst url = \"http://localhost:8080/login/signIn\";\r\n\t\tconst user = {\r\n\t\t\temail: this.state.email,\r\n\t\t\tkey: this.state.key\r\n\t\t}\r\n\t\tconst header = {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tbody: JSON.stringify(user),\r\n\t\t\theaders: {\r\n\t\t\t\t\"credentials\" :localStorage.credential,\r\n\t\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfetch(url, header)\r\n\t\t\t.then(response => {\r\n\t\t\t\tif (!response.ok) throw Error(response.status);\r\n\t\t\t\treturn response.json();\r\n\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then(json => {\r\n\t\t\t\tconsole.log(json);\r\n\t\t\t\tlocalStorage.uuid = json.uuid;\r\n\t\t\t\tlocalStorage.credential = json.credential;\r\n\t\t\t\twindow.location.href = \"/publications/findAll\";\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tconsole.error(error);\r\n\t\t\t\tlocalStorage.clear();\r\n\t\t\t\talert(\"Credenciales Incorrectas\");\r\n\t\t\t});\r\n\t\tthis.cleanValues();\r\n\t}\r\n\r\n\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<form onSubmit={this.signIn}>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\tid=\"email\"\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\tplaceholder=\"correo electronico\"\r\n\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\tvalue={this.state.email}\r\n\t\t\t\t\t\tonChange={this.setValues}\r\n\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tid=\"key\"\r\n\t\t\t\t\t\tname=\"key\"\r\n\t\t\t\t\t\tplaceholder=\"clave\"\r\n\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\tvalue={this.state.key}\r\n\t\t\t\t\t\tonChange={this.setValues}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<button type=\"submit\">Ingresar</button>\r\n\t\t\t\t\t\t<button type=\"reset\" onClick={this.cleanValues}>Limpiar</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}