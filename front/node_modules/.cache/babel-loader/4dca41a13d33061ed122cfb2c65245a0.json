{"ast":null,"code":"import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport PublicationService from \"../services/PublicationService\";\nconst PublicationList = () => {\n  loadPu = event => {\n    event.preventDefault();\n    const url = \"http://localhost:8080/login/signIn\";\n    const user = {\n      email: this.state.email,\n      key: this.state.key\n    };\n    const header = {\n      method: \"POST\",\n      body: JSON.stringify(user),\n      headers: {\n        \"credentials\": localStorage.credential,\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    fetch(url, header).then(response => {\n      if (!response.ok) throw Error(response.status);\n      return response.json();\n    }).then(json => {\n      console.log(json);\n      localStorage.uuid = json.uuid;\n      localStorage.credential = json.credential;\n      window.location.href = \"/publications\";\n    }).catch(error => {\n      console.error(error);\n      localStorage.clear();\n      alert(\"Credenciales Incorrectas\");\n    });\n    this.cleanValues();\n  };\n};\nexport default PublicationList;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","PublicationService","PublicationList","loadPu","event","preventDefault","url","user","email","state","key","header","method","body","JSON","stringify","headers","localStorage","credential","fetch","then","response","ok","Error","status","json","console","log","uuid","window","location","href","catch","error","clear","alert","cleanValues"],"sources":["C:/Users/Usuario/Documents/EducacionIT/Digitalers/Java Bootcamp/digitalers2022-proyecto-final/front/src/components/PublicationList.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport PublicationService from \"../services/PublicationService\";\r\n\r\nconst PublicationList = () => {\r\n    loadPu = (event) => {\r\n        event.preventDefault();\r\n\r\n        const url = \"http://localhost:8080/login/signIn\";\r\n        const user = {\r\n            email: this.state.email,\r\n            key: this.state.key\r\n        }\r\n        const header = {\r\n            method: \"POST\",\r\n            body: JSON.stringify(user),\r\n            headers: {\r\n                \"credentials\": localStorage.credential,\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        }\r\n\r\n        fetch(url, header)\r\n            .then(response => {\r\n                if (!response.ok) throw Error(response.status);\r\n                return response.json();\r\n            }\r\n            )\r\n            .then(json => {\r\n                console.log(json);\r\n                localStorage.uuid = json.uuid;\r\n                localStorage.credential = json.credential;\r\n                window.location.href = \"/publications\";\r\n            })\r\n            .catch(error => {\r\n                console.error(error);\r\n                localStorage.clear();\r\n                alert(\"Credenciales Incorrectas\");\r\n            });\r\n        this.cleanValues();\r\n    }\r\n\r\n}\r\n\r\nexport default PublicationList;\r\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,kBAAkB,MAAM,gCAAgC;AAE/D,MAAMC,eAAe,GAAG,MAAM;EAC1BC,MAAM,GAAIC,KAAK,IAAK;IAChBA,KAAK,CAACC,cAAc,EAAE;IAEtB,MAAMC,GAAG,GAAG,oCAAoC;IAChD,MAAMC,IAAI,GAAG;MACTC,KAAK,EAAE,IAAI,CAACC,KAAK,CAACD,KAAK;MACvBE,GAAG,EAAE,IAAI,CAACD,KAAK,CAACC;IACpB,CAAC;IACD,MAAMC,MAAM,GAAG;MACXC,MAAM,EAAE,MAAM;MACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACR,IAAI,CAAC;MAC1BS,OAAO,EAAE;QACL,aAAa,EAAEC,YAAY,CAACC,UAAU;QACtC,cAAc,EAAE;MACpB;IACJ,CAAC;IAEDC,KAAK,CAACb,GAAG,EAAEK,MAAM,CAAC,CACbS,IAAI,CAACC,QAAQ,IAAI;MACd,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE,MAAMC,KAAK,CAACF,QAAQ,CAACG,MAAM,CAAC;MAC9C,OAAOH,QAAQ,CAACI,IAAI,EAAE;IAC1B,CAAC,CACA,CACAL,IAAI,CAACK,IAAI,IAAI;MACVC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;MACjBR,YAAY,CAACW,IAAI,GAAGH,IAAI,CAACG,IAAI;MAC7BX,YAAY,CAACC,UAAU,GAAGO,IAAI,CAACP,UAAU;MACzCW,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,eAAe;IAC1C,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAI;MACZP,OAAO,CAACO,KAAK,CAACA,KAAK,CAAC;MACpBhB,YAAY,CAACiB,KAAK,EAAE;MACpBC,KAAK,CAAC,0BAA0B,CAAC;IACrC,CAAC,CAAC;IACN,IAAI,CAACC,WAAW,EAAE;EACtB,CAAC;AAEL,CAAC;AAED,eAAelC,eAAe"},"metadata":{},"sourceType":"module"}