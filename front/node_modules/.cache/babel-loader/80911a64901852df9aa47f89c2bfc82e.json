{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Usuario\\\\Documents\\\\EducacionIT\\\\Digitalers\\\\Java Bootcamp\\\\digitalers2022-proyecto-final\\\\front\\\\src\\\\components\\\\PublicationService.jsx\";\nimport React from \"react\";\nimport { Component } from \"react\";\nimport Header from './Header';\nimport '../resources/css/bootstrap.css';\nexport default class Publication extends Component {\n  constructor(props) {\n    super(props);\n    this.setValues = event => {\n      this.setState({\n        [event.target.id]: event.target.value\n      });\n    };\n    this.cleanValues = () => {\n      this.setState({\n        title: \"\",\n        body: \"\"\n      });\n    };\n    this.postPublication = event => {\n      event.preventDefault();\n      const url = \"http://localhost:8080/publications/insert\";\n      const publication = {\n        title: this.state.title,\n        body: this.state.body\n      };\n      const header = {\n        method: \"POST\",\n        body: JSON.stringify(publication),\n        headers: {\n          \"key\": localStorage.credential,\n          \"value\": localStorage.uuid,\n          \"Content-Type\": \"application/json\"\n        },\n        mode: 'cors',\n        cache: 'default'\n      };\n      fetch(url, header).then(response => {\n        if (!response.ok) throw Error(response.status);\n        return response.json();\n      }).then(json => {\n        console.log(json);\n        window.location.href = \"/publications/new-publication\";\n      }).catch(error => {\n        console.error(error);\n        alert(\"Credenciales Incorrectas\");\n      });\n      this.cleanValues();\n    };\n    this.state = {\n      title: \"\",\n      body: \"\"\n    };\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 22\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container w-75 mt-5 shadow rounded \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row align-items-stretch\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.postPublication,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"fieldset\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"col-form-label mt-4\",\n      for: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 37\n      }\n    }, \"T\\xEDtulo\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"T\\xEDtulo\",\n      id: \"title\",\n      name: \"title\",\n      required: true,\n      value: this.state.title,\n      onChange: this.setValues,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"body\",\n      class: \"form-label mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 37\n      }\n    }, \"Example textarea\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      class: \"form-control\",\n      id: \"exampleTextarea\",\n      rows: \"3\",\n      style: \"height: 140px;\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"col-form-label mt-4\",\n      for: \"body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 37\n      }\n    }, \"Cuerpo de texto\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"Cuerpo de texto\",\n      id: \"body\",\n      name: \"body\",\n      required: true,\n      value: this.state.body,\n      onChange: this.setValues,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 33\n      }\n    }, \"Publicar\"))))));\n  }\n}","map":{"version":3,"names":["React","Component","Header","Publication","constructor","props","setValues","event","setState","target","id","value","cleanValues","title","body","postPublication","preventDefault","url","publication","state","header","method","JSON","stringify","headers","localStorage","credential","uuid","mode","cache","fetch","then","response","ok","Error","status","json","console","log","window","location","href","catch","error","alert","render"],"sources":["C:/Users/Usuario/Documents/EducacionIT/Digitalers/Java Bootcamp/digitalers2022-proyecto-final/front/src/components/PublicationService.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { Component } from \"react\";\r\nimport Header from './Header';\r\nimport '../resources/css/bootstrap.css';\r\n\r\n\r\nexport default class Publication extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            title: \"\",\r\n            body: \"\"\r\n        }\r\n    }\r\n    setValues = (event) => {\r\n        this.setState({\r\n            [event.target.id]: event.target.value\r\n        });\r\n    }\r\n\r\n    cleanValues = () => {\r\n        this.setState(\r\n            {\r\n                title: \"\",\r\n                body: \"\"\r\n            }\r\n        );\r\n    }\r\n\r\n    postPublication = (event) => {\r\n        event.preventDefault();\r\n\r\n        const url = \"http://localhost:8080/publications/insert\";\r\n        const publication = {\r\n            title: this.state.title,\r\n            body: this.state.body\r\n        }\r\n        const header = {\r\n            method: \"POST\",\r\n            body: JSON.stringify(publication),\r\n            headers: {\r\n                \"key\": localStorage.credential,\r\n                \"value\": localStorage.uuid,\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            mode: 'cors',\r\n            cache: 'default'\r\n        }\r\n\r\n        fetch(url, header)\r\n            .then(response => {\r\n                if (!response.ok) throw Error(response.status);\r\n                return response.json();\r\n            }\r\n            )\r\n            .then(json => {\r\n                console.log(json);\r\n                window.location.href = \"/publications/new-publication\";\r\n            })\r\n            .catch(error => {\r\n                console.error(error);\r\n                alert(\"Credenciales Incorrectas\");\r\n            });\r\n        this.cleanValues();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n\r\n            <>\r\n                <div><Header /></div>\r\n                <div className=\"container w-75 mt-5 shadow rounded \" >\r\n                    <div className=\"row align-items-stretch\">\r\n                        <form onSubmit={this.postPublication}>\r\n                            <fieldset>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label className=\"col-form-label mt-4\" for=\"title\">Título</label>\r\n                                    <input type=\"text\"\r\n                                        className=\"form-control\"\r\n                                        placeholder=\"Título\"\r\n                                        id=\"title\"\r\n                                        name=\"title\"\r\n                                        required={true}\r\n                                        value={this.state.title}\r\n                                        onChange={this.setValues}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label for=\"body\" class=\"form-label mt-4\">Example textarea</label>\r\n                                    <textarea class=\"form-control\" id=\"exampleTextarea\" rows=\"3\" style=\"height: 140px;\"></textarea>\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label className=\"col-form-label mt-4\" for=\"body\">Cuerpo de texto</label>\r\n                                    <input type=\"text\"\r\n                                        className=\"form-control\"\r\n                                        placeholder=\"Cuerpo de texto\"\r\n                                        id=\"body\"\r\n                                        name=\"body\"\r\n                                        required={true}\r\n                                        value={this.state.body}\r\n                                        onChange={this.setValues}\r\n                                    />\r\n                                </div>\r\n                                <button type=\"submit\" className=\"btn btn-primary mt-2\">Publicar</button>\r\n                            </fieldset>\r\n\r\n                        </form>\r\n                    </div>\r\n\r\n                </div>\r\n            </>\r\n\r\n        );\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}